## Мониторинг СУБД

Для мониторинга баз данных MS SQL, PostgreSQL, MySQL и Oracle можно выделить несколько общих метрик, которые важны для оценки производительности, состояния и надежности работы базы данных. Эти метрики схожи для всех четырех СУБД, хотя могут немного различаться в деталях реализации.
1. **Количество активных соединений (Active Connections)** Показывает количество активных пользователей и приложений, которые в данный момент подключены к базе данных. Это важно для оценки нагрузки на сервер БД и предотвращения перегрузки соединений.
2. **Использование процессора (CPU Usage)** Процент использования CPU сервером базы данных.
3. **Использование памяти (Memory Usage)** Показывает, сколько оперативной памяти использует база данных для кэширования данных и выполнения запросов. Недостаток памяти может приводить к частым обращениям на диск, что снижает производительность.
4. **Производительность диска (Disk I/O)** Время и количество операций ввода-вывода на диск. Высокая нагрузка на диск может замедлять выполнение запросов, особенно если используются медленные устройства хранения.
5. **Количество блокировок (Locks/Deadlocks)** Количество блокировок на уровне таблиц или строк, а также количество взаимных блокировок (deadlock). Эти метрики помогают отслеживать проблемы с конкурентным доступом к данным.
6. **Время выполнения запросов (Query Latency)** Время, необходимое для выполнения запросов.
7. **Пропускная способность (Throughput)** Количество транзакций, запросов или операций ввода-вывода, которые база данных обрабатывает за единицу времени.
8. **Использование кэша (Cache Hit Ratio)** Доля запросов, которые были удовлетворены из кэша, без необходимости чтения данных с диска. Высокий показатель кэша означает, что данные эффективно кэшируются, что ускоряет обработку запросов.
9. **Время ожидания (Wait Time/Wait Events)** Время, которое запросы проводят в ожидании выполнения из-за блокировок, ввода-вывода или других факторов.
10. **Ошибки и сбои (Errors)** Любые ошибки или сбои, возникающие при выполнении запросов или транзакций.

На дашбордах Summary и Extended выведены эти основные метрики, а так же специфичные для перечисленных СУБД. Они позволяют отслеживать общую производительность, диагностику узких мест и выявление потенциальных проблем с ресурсами.

- [Мониторинг PostgreSQL](modules/infra/postgres.md)
- [Мониторинг Redis](modules/infra/redis.md)
- [Мониторинг Elasticsearch](modules/infra/es.md)
