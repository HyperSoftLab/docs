# Как обновить ключ лицензии GMonit

## Шаг 1: Перейдите в директорию установки GMonit
```bash
cd /home/user/gmonit  # замените на актуальный путь к вашей установке
```

## Шаг 2: Откройте файл конфигурации `.env`
Файл может быть скрыт (начинается с точки):
```bash
nano .env
# или используйте другой редактор:
# vim .env
# code .env
```

## Шаг 3: Обновите значение переменной `LICENSE_KEY`
Найдите строку с `LICENSE_KEY` и замените её на новый ключ.

**Пример:**
```env
LICENSE_KEY=MD4LFJrandom...v8xMWhhFsVwYTNm0
```

**⚠️ Важно:**
- Убедитесь, что между `LICENSE_KEY`, знаком `=` и значением ключа нет пробелов
- **Не добавляйте кавычки** вокруг ключа
- Сохраните файл (`Ctrl+O` в nano) и закройте редактор (`Ctrl+X`)

## Шаг 4: Перезапустите GMonit с новой конфигурацией
Для современных версий Docker Compose:
```bash
docker compose up -d
```
Для старых версий:
```bash
docker-compose up -d
```

## Шаг 5: Проверьте статус контейнеров
Убедитесь, что все контейнеры запустились успешно:
```bash
docker compose ps
```
Все контейнеры должны иметь статус `running` и `healthy`.

## Шаг 6: При проблемах с запуском
Если контейнеры имеют статус `unhealthy` или не запускаются:

1. **Проверьте логи:**
```bash
docker compose logs
# Проверьте логи конкретного сервиса
docker compose logs gmonit-backend
```

2. **Проверьте статус всех сервисов:**
```bash
docker compose ps --format "table {{.Service}}\t{{.Status}}\t{{.Ports}}"
```

3. **Выполните полный перезапуск:**
```bash
docker compose down
docker compose up -d
```

4. **Если проблема с лицензией, проверьте правильность ключа:**
```bash
grep LICENSE_KEY .env
```

## Шаг 7: Проверьте работу GMonit
1. **Откройте веб-интерфейс** по вашему адресу:
```
http://localhost:8080  # или ваш настроенный адрес
```

2. **Убедитесь, что:**
- Интерфейс загружается без ошибок
- Нет сообщений о проблемах с лицензией
- Система отображает актуальные данные мониторинга

## Нужна помощь?
Если у вас возникли вопросы или проблемы при обновлении лицензионного ключа, обратитесь в техническую поддержку GMonit